var v=Object.defineProperty;var w=(o,e,t)=>e in o?v(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var u=(o,e,t)=>(w(o,typeof e!="symbol"?e+"":e,t),t);import{r as c,u as S,j as a,a as _,m as y,b as M,c as E,o as p,d as l,S as P,H as R,R as O,e as H}from"./vendor.068dca9c.js";const A=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}};A();const j="modulepreload",m={},k="./",h=function(e,t){return!t||t.length===0?e():Promise.all(t.map(r=>{if(r=`${k}${r}`,r in m)return;m[r]=!0;const s=r.endsWith(".css"),n=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${n}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":j,s||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),s)return new Promise((d,x)=>{i.addEventListener("load",d),i.addEventListener("error",x)})})).then(()=>e())},C=c.exports.lazy(()=>h(()=>import("./index.96cc643e.js"),["assets/index.96cc643e.js","assets/vendor.068dca9c.js","assets/vendor.5aac238a.css"])),f=c.exports.lazy(()=>h(()=>import("./index.a4d0beb2.js"),["assets/index.a4d0beb2.js","assets/index.88468cc7.css","assets/vendor.068dca9c.js","assets/vendor.5aac238a.css"])),D=c.exports.lazy(()=>h(()=>import("./index.7e08adf8.js"),["assets/index.7e08adf8.js","assets/index.13ed69c4.css","assets/vendor.068dca9c.js","assets/vendor.5aac238a.css"])),B=()=>S([{path:"/",element:a(f,{}),index:!0},{path:"home/:id",element:a(C,{})},{path:"login",element:a(f,{})},{path:"admin",element:a(D,{})},{path:"*",element:a("div",{children:"404~"})}]),I=o=>{const e=_();c.exports.useEffect(()=>{e((o==null?void 0:o.path)||"")},[o==null?void 0:o.path])};class N{constructor(){u(this,"path");u(this,"params");y(this)}navigate(e){this.updateData({path:e})}updateData(e){M(()=>Object.assign(this,e))}}const b=(o,e,t)=>{var n;const r=c.exports.useContext(L),s=E();return r.get(o)?(I(r.methodsStore),r.aHook.get(o)&&((n=r.watchLook.get(o))==null||n.subscribe("init",e),r.aHook.delete(o)),r.get(o)):r.create(o,{routerParams:s,callback:t,params:e})};class g{constructor(){u(this,"watchLook",new Map);u(this,"storeMap",new Map);u(this,"methodsStore");u(this,"aHook",new Map);this.methodsStore=new N}create(e,t){var r;return this.aHook.get(e)&&(t==null?void 0:t.params)&&(new e({events:this.watchLook.get(e),routers:this.methodsStore,params:t==null?void 0:t.params}),this.aHook.delete(e)),this.watchLook.set(e,this.createWatchQueue()),this.methodsStore&&this.methodsStore.params&&(this.methodsStore.params=t==null?void 0:t.routerParams),this.storeMap.set(e,new e({events:this.watchLook.get(e),routers:this.methodsStore})),(r=this.watchLook.get(e))==null||r.subscribe("init",t==null?void 0:t.params),this.get(e)}get(e){return this.storeMap.get(e)}createWatchQueue(){const e={callbackMap:new Map,on:(t,r,s)=>{var n,i,d;if(s)return this.watchLook.get(s)||(b(s),this.aHook.set(s,this.aHook.size+1)),(n=this.watchLook.get(s))==null?void 0:n.callbackMap.set(t,r);if(!((i=e.callbackMap)==null?void 0:i.get(t)))return(d=e.callbackMap)==null?void 0:d.set(t,r)},subscribe:(t,r,s)=>{var n,i,d;return s?(i=(n=this.watchLook.get(s))==null?void 0:n.callbackMap.get(t))==null?void 0:i(t):(d=e.callbackMap.get(t))==null?void 0:d(r)},off:t=>{e.callbackMap.delete(t)}};return e}unStore(e){this.storeMap.delete(e)}}const L=c.exports.createContext(new g),$=p(o=>l(L.Provider,{value:new g,children:[" ",o.children," "]})),z="_LoadingBox_i95pd_1";var T={LoadingBox:z};const V=({text:o="\u52A0\u8F7D\u4E2D...",iconSize:e="48px"})=>l("div",{className:T.LoadingBox,children:[a(P,{style:{"--size":e.toString().includes("px")?e:String(e)+"px"}}),a("span",{children:o})]});var W=p(V);function q(){return a("div",{children:a(c.exports.Suspense,{fallback:a(W,{}),children:a(R,{children:a($,{children:a(B,{})})})})})}O.render(a(H.StrictMode,{children:a(q,{})}),document.getElementById("root"));export{b as u};
