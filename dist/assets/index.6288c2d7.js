var S=Object.defineProperty;var y=(r,e,t)=>e in r?S(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var d=(r,e,t)=>(y(r,typeof e!="symbol"?e+"":e,t),t);import{r as u,u as w,j as a,a as E,m as l,b as m,c as M,o as f,d as g,S as R,H as O,R as P,e as k}from"./vendor.305c6c80.js";const A=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}};A();const j="modulepreload",_={},D="./",h=function(e,t){return!t||t.length===0?e():Promise.all(t.map(o=>{if(o=`${D}${o}`,o in _)return;_[o]=!0;const s=o.endsWith(".css"),n=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${n}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":j,s||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),s)return new Promise((c,v)=>{i.addEventListener("load",c),i.addEventListener("error",v)})})).then(()=>e())},I=u.exports.lazy(()=>h(()=>import("./index.2493d5f4.js"),["assets/index.2493d5f4.js","assets/index.91be7242.css","assets/vendor.305c6c80.js","assets/vendor.376a5dcd.css","assets/index.19065902.js"])),x=u.exports.lazy(()=>h(()=>import("./index.bbcffe96.js"),["assets/index.bbcffe96.js","assets/index.00b74840.css","assets/vendor.305c6c80.js","assets/vendor.376a5dcd.css","assets/index.19065902.js","assets/index.9ae7fb9c.js","assets/index.73f39466.css"])),H=u.exports.lazy(()=>h(()=>import("./index.6b865b14.js"),["assets/index.6b865b14.js","assets/index.ec7a005a.css","assets/vendor.305c6c80.js","assets/vendor.376a5dcd.css","assets/index.19065902.js","assets/index.9ae7fb9c.js","assets/index.73f39466.css","assets/index.3fb91b9d.js"])),C=u.exports.lazy(()=>h(()=>import("./index.893ce516.js"),["assets/index.893ce516.js","assets/index.be7f1dd7.css","assets/vendor.305c6c80.js","assets/vendor.376a5dcd.css","assets/index.19065902.js","assets/index.3fb91b9d.js","assets/index.9ae7fb9c.js","assets/index.73f39466.css"])),b=u.exports.lazy(()=>h(()=>import("./index.90294ceb.js"),["assets/index.90294ceb.js","assets/index.ae4fa99f.css","assets/vendor.305c6c80.js","assets/vendor.376a5dcd.css"])),z=u.exports.lazy(()=>h(()=>import("./index.8ce86af6.js"),["assets/index.8ce86af6.js","assets/index.db66d5eb.css","assets/vendor.305c6c80.js","assets/vendor.376a5dcd.css"])),U=()=>w([{path:"/",element:a(x,{}),index:!0},{path:"home/:id",element:a(I,{})},{path:"login",element:a(x,{})},{path:"admin",element:a(H,{})},{path:"add_user",element:a(C,{})},{path:"render",element:a(b,{})},{path:"skeleton",element:a(z,{})},{path:"*",element:a("div",{children:"404~"})}]),B=r=>{const e=E();u.exports.useEffect(()=>{r==null||r.updateData({navigate:e})},[])};class T{constructor(){d(this,"path");d(this,"params");d(this,"navigate",()=>{});l(this)}updateData(e){m(()=>Object.assign(this,e))}}class V{constructor(){d(this,"uuid");d(this,"token");l(this),this.initUpdate()}initUpdate(){var e,t;this.Update({token:(e=localStorage.getItem("token"))!=null?e:"",uuid:(t=localStorage.getItem("uuid"))!=null?t:""})}clear(){this.Update({token:void 0,uuid:void 0}),localStorage.clear()}Update(e){m(()=>Object.assign(this,e))}}const N=(r,e,t)=>{var n;const o=u.exports.useContext(p),s=M();return B(o.methodsStore),o.get(r)?(o.aHook.get(r)&&((n=o.watchLook.get(r))==null||n.subscribe("init",e),o.aHook.delete(r)),o.get(r)):o.create(r,{routerParams:s,callback:t,params:e})},X=()=>{const r=u.exports.useContext(p);u.exports.useEffect(()=>{r.clear()},[])};class L{constructor(){d(this,"watchLook",new Map);d(this,"storeMap",new Map);d(this,"methodsStore");d(this,"aHook",new Map);d(this,"user");this.methodsStore=new T,this.user=new V}create(e,t){var o;return this.aHook.get(e)&&(t==null?void 0:t.params)&&(new e({events:this.watchLook.get(e),routers:this.methodsStore,user:this.user,params:t==null?void 0:t.params}),this.aHook.delete(e)),this.watchLook.set(e,this.createWatchQueue()),this.methodsStore&&this.methodsStore.params&&(this.methodsStore.params=t==null?void 0:t.routerParams),this.storeMap.set(e,new e({events:this.watchLook.get(e),routers:this.methodsStore,user:this.user})),(o=this.watchLook.get(e))==null||o.subscribe("init",t==null?void 0:t.params),this.get(e)}get(e){return this.storeMap.get(e)}createWatchQueue(){const e={callbackMap:new Map,on:(t,o,s)=>{var n,i,c;if(s)return this.watchLook.get(s)||(N(s),this.aHook.set(s,this.aHook.size+1)),(n=this.watchLook.get(s))==null?void 0:n.callbackMap.set(t,o);if(!((i=e.callbackMap)==null?void 0:i.get(t)))return(c=e.callbackMap)==null?void 0:c.set(t,o)},subscribe:(t,o,s)=>{var n,i,c;return s?(i=(n=this.watchLook.get(s))==null?void 0:n.callbackMap.get(t))==null?void 0:i(t):(c=e.callbackMap.get(t))==null?void 0:c(o)},off:t=>{e.callbackMap.delete(t)}};return e}unStore(e){this.storeMap.delete(e)}clear(){this.storeMap.clear()}}const p=u.exports.createContext(new L),$=f(r=>g(p.Provider,{value:new L,children:[" ",r.children," "]})),W="_LoadingBox_a9z67_1";var q={LoadingBox:W,"adm-px-tester":"_adm-px-tester_a9z67_1"};const F=({text:r="\u52A0\u8F7D\u4E2D...",iconSize:e="48px"})=>g("div",{className:q.LoadingBox,children:[a(R,{style:{"--size":e.toString().includes("px")?e:String(e)+"px"}}),a("span",{children:r})]});var Q=f(F);function K(){return a("div",{children:a(u.exports.Suspense,{fallback:a(Q,{}),children:a(O,{children:a($,{children:a(U,{})})})})})}P.render(a(k.StrictMode,{children:a(K,{})}),document.getElementById("root"));export{Q as L,X as a,N as u};
